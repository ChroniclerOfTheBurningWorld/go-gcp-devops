package main

import (
    "fmt"
    "log"
    "net/http"
)

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
func handler(w http.ResponseWriter, r *http.Request) {
    // –í –æ—Ç–≤–µ—Ç –¥–æ–±–∞–≤–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    message := "–ü—Ä–∏–≤–µ—Ç –æ—Ç Go-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–µ—Ä—Å–∏—è 1.0)! –Ø —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ GCP! üöÄ"
    fmt.Fprintf(w, message)
    log.Printf("–ó–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω.")
}

func main() {
    http.HandleFunc("/", handler)
    port := "8080"
    log.Printf("–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É :%s", port)
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º HTTP-—Å–µ—Ä–≤–µ—Ä
    if err := http.ListenAndServe(":"+port, nil); err != nil {
        log.Fatalf("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞: %v", err)
    }
}